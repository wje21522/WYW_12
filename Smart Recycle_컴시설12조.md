　　　　　　　　　　　　　　　　　　　![제목](https://scontent.xx.fbcdn.net/hphotos-xft1/v/t1.0-9/12348063_1088704141139586_2076025620761507832_n.jpg?oh=42567a734d2c44265a35dd452aaa424c&oe=56DB1D6F)
--------------



<br>
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　과　목　명 : 컴퓨터 시스템 기초 설계
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　담 당 교 수 : 강승우 교수님
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　분　　　반 : 01분반
<br>
<br>
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　12조 
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2013136068 :양희혜
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2013136071 :우재은
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2013136072 :원주연
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　
　　　　　　　　　　　　　   　　　　　　　   　　　　　　　   　　　　　![한기대로고](https://fbcdn-sphotos-d-a.akamaihd.net/hphotos-ak-xpt1/v/t1.0-9/12122630_1088656004477733_1675076841412409785_n.jpg?oh=3b370f024d84427e2f88d7ec68178627&oe=56ED94A5&__gda__=1461462565_27440ce6126b6040210b10f5538704d1)
*****
<br>
　　　　　　　　　　　　**< 목　　　차 >**
--------------
<br>
###**1.개요**

　1.1    문제 상황 

　1.2    시스템의 필요성 

　1.3   문제 정의(5 whys)

　1.4   시스템 요구사항

　1.5    핵심 아이디어

　1.6   전체 시스템 구조

　1.7   기존의 방법/제품/서비스/시스템

　1.8   시스템 차별성 및 장점

<br>
###**2.시스템 설계**

　2.1    시스템의 목적

　2.2    시스템 구조

　2.3   시스템 기능

　2.4   시스템 구성요소 및 각 기능

　2.5    시스템 동작흐름

　2.6   시스템 전체 구조

<br>
###**3.핵심 구성요소 상세 설계**

　3.1 클래스 정의(멤버변수, 멤버 함수의 기능 정의)

　3.2 멤버 함수의 입력/출력

　3.3   함수 수도코드

<br>
###**4.구현에 필요한 기술 및 개발환경 조사**

<br>
*****

3. 핵심 구성요소 상세설계
===================
##3.1 클래스 정의(멤버변수, 멤버 함수의 기능 정의)
###3.1.1 회전 기능


| Class Rotation  |        | 로봇팔의 전체적인 회전 제어   |
| :------- | :---- | :--- |
| 멤버 변수 | double r_angle  | 회전각도  |
| | double distance  |로봇 팔과 쓰레기 거리|
|  | int plastic = 1 |플라스틱은 1로 저장 |
|| int glass_bottle = 2  |병은 2로 저장|
| | int result  | 판별한 결과|
| |double x |판별 결과 수집통(플라스틱, 캔, ...)의 위치 |
| |double y |판별 결과 수집통의 y위치|
| |double R_x    | 쓰레기 값의 x 위치|
| | double R_y  | 쓰레기 값의 y 위치|
| | double R_dis  |로봇의 중심과 쓰레기 값의 거리 |
| | double R_res_dis  | 로봇의 중심과 수집통 간의 거리 |


###3.1.2 관절 제어 기능

| Class joint |   | 로봇팔 관절 제어 |
| :------- | :---- | :--- |
| 멤버 변수 | double robot_x  | 로봇 팔 x 위치 값|
| |double robot_y |로봇 팔 y 위치 값|
| | double robot_z|로봇 팔 z 위치 값 |
| | double joint_top_y|첫 번째 관절(어깨)의 y축 좌표|
| | double joint_top_z | 첫 번째 관절(어깨)의 z축 좌표|
| |double joint_mid_y|두 번째 관절(팔꿈치)의 y축 좌표 |
| |double joint_mid_z |두 번째 관절(팔꿈치)의 z축 좌표|
| |double joint_bot_y  | 세 번째 관절(손목)의 y축 좌표|
| |double joint_bot_z|세 번째 관절(손목)의 z축 좌표|
| 멤버 함수 | void init()  | y축 좌표와 z축 좌표 초기화 함수|
| |void crash()|충돌을 위한 체크 함수|
| |void move(x, y, z)|관절 이동을 위한 함수|


###3.1.3. 손가락 제어 기능

| Class pick |   | 로봇팔 손가락 제어|
| :------- | :---- | :--- |
| 멤버 변수 | double f1_angle |첫번째 손가락의 움직일 각도|
| |double f2_angle|두번째 손가락의 움직일 각도|
| | double f3_angle |세번째 손가락의 움직일 각도|
| |double volt |첫 번째 관절(어깨)의 y축 좌표|
| | double true_f1_ang | 첫번째 손가락이 멈추는 각도|
| |double true_f2_ang |두번째 손가락이 멈추는 각도|
| |double true_f3_ang;|세번째 손가락이 멈추는 각도|
| 멤버 함수 | void init_1() | 집게손 각도 초기화. 쓰레기를 투하하는 함수|
| | void init_2()|집게손 각도 초기화. 쓰레기를 투하하는 함수|
| | void init_3()|집게손 각도 초기화. 쓰레기를 투하하는 함수|
| | void Pick()  |쓰레기 집는 함수|

##3.2  멤버 함수의 입력 / 출력

|함수 이름  |   입력  | 출력   |
| :------- | :---- | :--- |
| void R_init() | 회전각도 | 초기화된 회전각도|
| void R_trash()| 쓰레기 위치 |쓰레기를 향하는 각도|
|void recycle()  |쓰레기 판별된 결과 |해당 수집통을 향하는 각도 |
|void init() | 어깨, 팔꿈치, 손목|어깨, 팔꿈치, 손목 초기화|
|void crash() |손목 z축 좌표| 충돌 체크 여부|
| void move(x, y, z)|쓰레기의 위치 |로봇팔의 x,y,z(쓰레기에) 위치 |
|void init_1() |집게손1 각도 |손가락이 벌려진 각도 초기화|
|void init_2() |d집게손2 각도  | 손가락이 벌려진 각도 초기화|
|void init_3() | 집게손3 각도 | 손가락이 벌려진 각도 초기화|
|void Pick()  | 집게1,2,3의 각각의 압력 |물체 잡기 |

##3.3 함수 수도코드
###3.3.1 Class Rotation

```javascript
double r_angle//회전각도

double distance //로봇 팔과 쓰레기 거리

int plastic = 1
int glass_bottle = 2
    ㆍ
    ㆍ
    ㆍ
    ㆍ
int result // 판별한 결과

double x //판별 결과 수집통(플라스틱, 캔, ...) 의 x위치
double y //판별 결과 수집통의 y위치

double R_x // 쓰레기 값의 x 위치
double R_x // 쓰레기 값의 y 위치
double R_dis // 로봇의 중심과 쓰레기 값의 거리
double R_res_dis // 로봇의 중심과 수집통 간의 거리 

void R_init() { //로봇 팔 회전각도 초기 값
   r_angle=0
   
   return r_angle

}

void R_trash() { //쓰레기로 향할 각도 측정하는 함수

   R_x = 100 – trash_x
   R_y = trash_y

   R_dis = R_x / (R_y^2 + R_x^2)^(1/2)

   r_angle = arccos(R_dis)

   return r_angle
}

// 쓰레기 좌표를 이용해서 로봇 본체의 중심과 거리를 구한다. 그리고 그 거리를 이용해서 각도를 구한다. 그 각도로 회전시킨다.

void recycle() { //쓰레기 별 알맞은 쓰레기통으로 위치하는 함수

 switch(result) {
    case 1:
        x = 50
        y = -50

        x = 100 – x
        R_res_dis = x / (y^2 + x^2)^(1/2)

        r_angle = arccos(R_res_dis)
        break;

    case 2:
        ㆍ
        ㆍ
        ㆍ
        ㆍ
        ㆍ
        ㆍ
        ㆍ
        ㆍ

   return r_angle
}
// 판별이 된 정보를 받아 들인다. 그리고 그 판별결과의 수집통을 찾아서 그 거리를 계산하고 각도를 회전한다. 
```


###3.3.2 Class Joint

```javascript
double joint_top_y // 첫 번째 관절(어깨)의 y축 좌표
double joint_toup_z
double joint_mid_y // 두 번째 관절(팔꿈치)의 y축 좌표
double joint_mid_z
double joint_bot_y // 세 번째 관절(손목)의 y축 좌표
double joint_bot_z

void init() //y축 좌표와 z축 좌표 초기화
{
   joint_top_y = 0; // 첫 번째 관절(어깨)의 y축 좌표 초기화
   joint_top_z = 0;
   joint_mid_y = 0; // 두 번째 관절(팔꿈치)의 y축 좌표
   joint_mid_z = 0;
   joint_bot_y = 0; // 세 번째 관절(손목)의 y축 좌표
   joint_bot_z = 0;
}

void crash()//충돌을 위한 체크
{
//바닥을 치지 않았는지 체크
      if(joint_bot_z<0) {
         return false;
      }
}

void move(x, y, z) // y축좌표, z축 좌표만큼 움직이는 함수
{
    while(x == 1) {
    
        if( 로봇손의 x 위치가 쓰레기 x좌표와 같고 로봇손의 y의 위치가 쓰레기 y값이면) {
            x = 0
            break
        }
        else {
            어깨각도 += 1
            팔꿈치각도 += 2
        }
    }

    while(x == 1) {
        if(물체 Z축 좌표라면){	
            x = 0
            break
        }
        else{
	어깨각도 -= 1
             팔꿈치각도 -= 2
	robot_z -= 1
        }
    }
}
```

###3.3.3 Class Pick

```javascript
double f1_angle; //첫번째 손가락의 움직일 각도
double f2_angle;
double f3_angle;

double volt; //압전형 

double true_f1_ang; //첫번째 손가락이 멈추는 각도
double true_f2_ang;
double true_f3_ang;

init_1()// 집게손 각도 초기화. 쓰레기를 투하하는 함수
{
   f1_angle = 90;
}
init_2()// 집게손 각도 초기화. 쓰레기를 투하하는 함수
{
   f2_angle = 90;
}
init_3()// 집게손 각도 초기화. 쓰레기를 투하하는 함수
{
   f3_angle = 90;
}
   
Pick() //쓰레기 집는 함수
{
    //이미 관절함수로 쓰레기 위치와 로봇팔 위치는 일치한 상태
    f1_angle = 90;
    f2_angle = 90;
    f3_angle = 90;

    for(int i = 90; i < 0; i--) {
        while ( f1_angle < 0 ) {
            if(압력이 없으면) {
                f1_angle -= 1
                break
            }
            else { // 압력이 있으면
                true_f1_ang= f1_angle 
                f1_angle  = 0 //x1 멈춤
            }
        }
    
        while ( f2_angle < 0 ) {
            if(압력이 없으면) {
                f2_angle -= 1
                break
            }
            else {
                true_f2_ang= f2_angle 
                f2_angle  = 0 //x2 멈춤
            }
        }
    
        while ( f3_angle < 0 ) {
            if(압력이 없으면) {
                f3_angle -= 1
                break
            }
            else {
                true_f3_ang = f3_angle 
                f3_angle  = 0 //x3 멈춤
            }
        }
    }
}
```

##4. 구현에 필요한 기술 및 개발 환경조사
###4.1. 딥러닝(Depp Learning)
#####1.소개 
   컴퓨터가 사람처럼 생각하고 배울 수 있도록 하는 기술이다. 기계학습을 기반으로 하여 사물이나 데이터를  모으거나 분류하는데 사용한다. 딥러닝의 핵심기술은 분류를 통한 예측이다. 수많은 데이터들 속에서 규칙적인 패턴을 발견하여 사람이 사물을 구분하듯이 컴퓨터가 데이터를 판별하는 것이다.
#####2. 종류
 딥러닝에서 분별기술 방식은 지도 학습과 비지도 학습으로 나뉜다.
 - 지도학습(Supervised Learning)
 기계학습 알고리즘은 대부분 지도학습에 기초한다. 이 방식은 컴퓨터에 먼저 정보를 가   르치는 방법으로 예로 먼저 사진을 주고 이 사진은 어떤 물체라고 정의를 내려주는 식   이다. 이렇게 미리 학습된 결과를 바탕으로 컴퓨터는 그 물체의 사진을 구분하게 된다.
 - 비지도학습(Unsupervised Learning)
 비지도학습은 지도학습과 달리 선행학습과 같은 배움의 과정이 없다. 예로 ‘이 사진은   어떤 물체이다‘ 라는 배움의 과정 없이 컴퓨터가 스스로 학습하여 ’이 사진은 이 물체   구나‘ 라고 판단을 하게한다. 이렇듯 비지도학습은 지도학습보다 진보한 기술이며 컴    퓨터의 높은 연산 능력이 요구된다. 

#####3.적용사례
 데이터의 양이 많은 사진, 동영상과 음성정보를 분류하는 데에 주로 쓰인다.
 -구글 : 음성인식과 번역을 비롯하여 로봇의 인공지능 시스템 개발에 딥러닝 도입
 -페이스북 : 뉴스피드와 이미지에서 얼굴 인식을 하는 분야에 딥러닝 적용

#####4.적용계획
 분광기와 영상의 분석결과를 서버와 DB에 전달받아 쓰레기의 이미지를 이진화시킨다. 이진화 시킨 데이터를 가지고 쓰레기를 분류하는 데 이때, 딥러닝 기술을 사용한다. 사전에 기존 쓰레기의 이미지에 따른 분류 결과 데이터를 서버와 DB와 쓰레기 분류모듈에 넣어 사전학습을 시키는 지도학습을 적용시킨다. 기존 데이터 말고도 새로운 이미지의 쓰레기가 생길 경우 비지도학습을 적용하도록 한다.

![딥러닝](https://scontent.xx.fbcdn.net/hphotos-xlp1/v/t1.0-9/12360417_1088658281144172_5313740556943424571_n.jpg?oh=2c8136335f4e6c1eaa70fd7f246d5542&oe=56E9ACAA)

###4.2. 아두이노 통합환경
#####1.소개 
  아두이노는 마이크로컨트롤러이므로 원하는 기능을 먼저 설정하고 이에 맞는 프로그래밍 통해 기능을 구현한다. 사용 언어는 주로 C++을 사용하고 컴파일러 및 라이브러리는 AVR-GCC을 사용한다. 아두이노는 다양한 스위치나 센서로부터 입력 값을 받아들여 LED나 모터와 같은 전자 장치들로 출력을 제어함으로써 환경과 상호작용이 가능한 물건을 만들어 낼 수 있다.
 오픈 소스를 지향하는 마이크로 컨트롤러를 내장한 기기 제어용 기판이다. 컴퓨터 메인보드의 단순 버전으로 이 기판에 다양한 센서나 부품 등의 장치를 연결할 수 있다. 컴퓨터와 연결해 소프트웨어를 로드하면 동작을 하게 되므로 제어용 전자 장치부터 로봇과 같은 것을 만들 수 있는 '오픈소스 하드웨어'라고 할 수 있다. 
#####2. 종류
 -정식 아두이노 보드
 arduino.cc에 기술된 보드들로 아두이노 UNO 보드가 대표적이다. 아두이노 보드의 설계도를 참조하여 똑같이 만든 보드
 -아두이노 호환 보드
 정식 아두이노 보드에 필요에따른 변형을 가해 특별한 기능을 더한 보드####3.적용사례
 데이터의 양이 많은 사진, 동영상과 음성정보를 분류하는 데에 주로 쓰인다.
 -구글 : 음성인식과 번역을 비롯하여 로봇의 인공지능 시스템 개발에 딥러닝 도입
 -페이스북 : 뉴스피드와 이미지에서 얼굴 인식을 하는 분야에 딥러닝 적용#####3.적용사례
 데이터의 양이 많은 사진, 동영상과 음성정보를 분류하는 데에 주로 쓰인다.
 -구글 : 음성인식과 번역을 비롯하여 로봇의 인공지능 시스템 개발에 딥러닝 도입
 -페이스북 : 뉴스피드와 이미지에서 얼굴 인식을 하는 분야에 딥러닝 적용

#####3.적용사례
 단순한 로봇, 온습도계, 동작 감지기, 음악 및 사운드 장치, 스마트 홈 구현, 유아 장난감 및 로봇 교육 프로그램 등 
#####4.적용계획
 아두이노와 서버&DB와 쓰레기분류 모듈과 로봇팔을 연결한다. 아두이노 개발환경을 실행시킨 후 아두이노에 연결된 장치들을 원하는 대로 동작하도록 스케치하고 컴파일한다. 컴파일된 바이너리를 아두이노 보드에 업로드하여 아두이노가 스케치대로 동작된다.
=> 물리적으로 아두이노와 모듈과 로봇팔을 연결하고 작성된 소스코드를 컴파일해서 아두이노에 업로드를 하여 작동시킨다.

![아두이노](https://scontent.xx.fbcdn.net/hphotos-xfp1/v/t1.0-9/12321105_1088658291144171_3502353904666874791_n.jpg?oh=b95f9e834c38e708d74c43f7ddb2714e&oe=56D8795B)

###4.3. 압전센서(압력센서)
#####1.소개 
 압전센서(Piezoelectric sensor)는 압전효과를 이용하여 압력 가속도 스트레인을 측정하여 전기신호로 변환시키는 장치이다. 어떤 물질에 압력의 힘을 가하면 약한 전기가 발생한다
#####2.적용사례
 -전기, 가스라이터에 작은 압전소자를 장치하여 라이터의 스위치를 누르면 가스가 나오는 동시에 고압전기가 발생하여 가스에 불을 붙인다.
 -전자저울에는 압전소자를 이용하여 사람이 저울에 올라가면 발생되는 전기를 전자회로를 통하여 몸무게를 측정한다.
#####3.적용계획
 아두이노 로봇 팔의 손가락 끝에 압력센서를 장착하여 쓰레기에 접근하여 물체를 집는 순간 집는 압력이 적당한 세기에 이르면 상태를 신호로 전달한 후 물체를 들어 올리는 것을 실행한다.

![압전센서](https://scontent.xx.fbcdn.net/hphotos-xpf1/v/t1.0-9/12347975_1088663941143606_1619786731702691208_n.jpg?oh=5c28e60f37d10fcf00d238398741cb4b&oe=56DB3F66)

###4.4. 태양광 패널
#####1.소개 
 태양광을 빛에너지로 변환하는 최소단위의 셀이다. 태양전지에 입사된 태양에너지를 전기적 에너지로 변환하는 출력특성을 태양전지의 전압-전류 특성곡선이라고 한다. 태양광 패널의 출력은 입사된 빛의 강도. 태양광 패널의 표면온도에 따라 달라진다. 폴리실리콘<잉곳<웨이퍼<태양전지<모듈이 되는 과정을 거쳐서 패널이 만들어진다.
 ![태양광패널](https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-xtl1/v/t1.0-9/12342727_1088664381143562_581702333236273016_n.jpg?oh=05d7663fb3beaf98b576771157ab71e1&oe=57162422&__gda__=1458239135_f493e771cc0b6b8d2d61b89d75ddda1b)
#####2.종류
 현재 실용화 되고 있는 대부분의 태양광패널은 실리콘 태양광 패널이다.
- 실리콘 계통  
(1) 단결정
- 안정적이고 고효율이나, 가격이 좀 높은 편입니다.
- 무늬가 없고, 흑색으로 보이는 것이 단결정 모듈로 육안으로도 확인가능하다.          
- 1400도 이상에서 제조합니다.<br>
<br>(2) 다결정
- 효율은 단결정보다는 약간 낮은 편입니다.
- 무늬는 다양하고 색은 청색을 띄고 있습니다.
- 단결정보다 약간 효율은 떨어지지만 가격이 저렴한 편입니다.<br>
<br>(3) 비결정질(아몰퍼스)
- 초기에 결정이 열화하여 효율이 감소하나 이후에는 안정적이다.
- 무늬가 없고 두께가 1㎛이하로 구부러지기 쉽다
- 제조에 필요한 온도는 200℃로 낮다.<br>
      
#####3.적용사례
 -인도의 46,150개 태양광 패널로 움직이는 100% 태양광 공항
 -광명시청은 건물 단위로 태양광 패널을 설치하여 간판과 경관을 점등하도록 설치 

#####4.적용계획
대규모로 태양광에너지가 필요하기 때문에 가격이 비싼 단결성모듈 대신 다결정 모듈로 사용한다. 다결성 태양광 패널로 빛에너지를 전기에너지로 전환하여 시스템에 전원공급을 한다.
###4.5. 적외선 분광기

#####1.소개 
- FT-IR 분광기의 구조
 
![FT-IR 분광기의 구조](https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-xlf1/v/t1.0-9/12311035_1088664994476834_383957493873554726_n.jpg?oh=bcfa7e111ce8dce67055ee77f6531db5&oe=56DDA48C&__gda__=1461347827_9113df875301f2b6688fa4d22b780fbc)

<br>- FT-IR의 장점<br>
① 측정시간이 신속, 짧은 시간에 여러 번 측정<br>
② 낮은 농도의 시료도 분석가능<br>
③ 정밀도 매우 우수<br>
④ 거울속도를 일정하게 유지→분해능 일정하게유지<br>
⑤ 정성, 정량 분석의 정확도가 매우 높음<br>
⑥ 시료의 열분해, 변질할 우려가 거의 없음<br>

![FT-IR의 장](https://fbcdn-sphotos-a-a.akamaihd.net/hphotos-ak-xfa1/v/t1.0-9/12360251_1088664884476845_4370091226430430190_n.jpg?oh=677171ab9d22f73dde2616442dbfb2d0&oe=56D6D44C&__gda__=1461147335_071830f2a7182f285ed299b9aff4b760)

#####2.적용사례
-토양과 슬러지에서 유기 오염물을 정량적으로 측정함으로 알 수 있는 오염 
  미생물의 개체 수 확인
-과일의 손상과 고기 등 여러 음식물에 있는 박테리아와 같은 미생물에 의해 생성된    물질을 측정하여 부패 여부를 신속히 판단
- 탄광 광부의 진폐증 여부를 알기 위해 폐 조직 내 석영의 농도측정
- 보석의 감정

#####3.적용계획
분광기 분석 모듈의 반사되어 나오는 갖가지 파장의 세기를 측정하여 그 측정값을 그래프 또는 스펙트럼 형태로 구현한다. 이 구현되어진 정보를 DB에 전달한 후 이 정보를 통해 물체를 판별하는데 도움을 준다. 

###4.6. (지능형) 영상분석

#####1.소개 

영상 안의 오브젝트를 탐지/추적하고, 추적하고 있는 오브젝트 중에 지정한 규칙(Rule)에 따라 필터링 하여 사용자가 원하는 정보를 제공함. 움직임 감지 기술(Motion Detection)과 비교하여 탐지 율과 경보의 정확도를 획기적으로 개선한 기능이다.

#####2.적용사례
 - 영상의 정보를 분석하여 자동으로 이상 행위를 탐지하고 관리자에게 정보를 전송함으로써 사고를 사전에 예방하고 사고가 발생한 경우에는 신속하게 대응하여 피해를 줄 일 수 있다.
 - 최근 토론토 대학에서는 대규모 이미지 검색을 위해 deep learning 방식인 Deep Convolutional Neural Networks 기술을 개발하여 탁월한 객체 검색기술 성능을 보였다. 이 시스템은 1,000개의 클래스들로 구성된 ImageNet 시험 데이터에 대해 5순위 내 검색결과가 83%의 성능을 보였다. 

#####3.적용계획
 딥러닝 기술로 객체를 인식/분류를 하는 영상 기술을 사용한다. 영상 안에 있는 쓰레기를 탐지하여서 그 쓰레기의 위치 값, 공간좌표 값, 크기, 위치, 방향 값을 측정한다. 그리고 이러한 정보들을 DB에 전달을 하고 딥러닝 기술을 통해서 얻어진 결과로 쓰레기를 분류하여 영상 분석의 결과를 내린다. 

